<!DOCTYPE html>
<html>
  <head>
    <title>Luggage Services</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
    <script src="jquery.tablesorter.js"></script>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/main.css') }}">
    <script type='text/javascript'>//<![CDATA[
$(window).load(function(){<!--from w  ww.  j  a  v a 2  s  .c  o m-->
//save the selector so you don't have to do the lookup everytime
$dropdown = $("#contextMenu");
$(".actionButton").click(function() {
    //get row ID
    var id = $(this).closest("tr").children().first().html();
    //move dropdown menu
    $(this).after($dropdown);
    //update links
    $dropdown.find(".modifyLink").attr("href", "/search_results/modify?id="+id);
    $dropdown.find(".completeLink").attr("href", "/search_results/complete?id="+id);
    //show dropdown
    $(this).dropdown();
});
});//]]>
</script>
  </head>
  <body>

    <nav class="navbar navbar-inverse navbar-static-top center">
      <div class="container">
        <div class="navbar-header">
          <a class="navbar-brand navbar-left" href="/"><span class="glyphicon glyphicon-briefcase"></span>  Home</a>
          <a class="navbar-brand" href="/archive"><span class="glyphicon glyphicon-briefcase"></span>  Archives</a>
        </div>
      </div><!-- /.container -->
    </nav>

  <div class="outer center" id="top">
    <div class="container-fluid">
      {% block container %}
      {% endblock %}
    </div>
  </div>

  {% block footer %}
  <div id="foot">
    <div class="footer">
      <div class="center">

         <p id="footertext">&copy;SCRG 2015 | All rights reserved</p>
      </div>
    </div>
  </div>
      {% endblock %}


<script type=text/javascript>
  $(document).ready(function() {
      $('#table').tablesorter( {sortList: [[0,0],[1,0]]});
  });
  </script>
  <script type=text/javascript>
  $('th').click(function(){
      var table = $(this).parents('table').eq(0)
      var rows = table.find('tr:gt(0)').toArray().sort(comparer($(this).index()))
      this.asc = !this.asc
      if (!this.asc){rows = rows.reverse()}
      for (var i = 0; i < rows.length; i++){table.append(rows[i])}
  })
  function comparer(index) {
      return function(a, b) {
          var valA = getCellValue(a, index), valB = getCellValue(b, index)
          return $.isNumeric(valA) && $.isNumeric(valB) ? valA - valB : valA.localeCompare(valB)
      }
  }
  function getCellValue(row, index){ return $(row).children('td').eq(index).html() }
</script>

  </body>
</html>
